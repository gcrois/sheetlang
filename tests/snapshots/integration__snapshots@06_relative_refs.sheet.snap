---
source: tests/integration.rs
expression: output
input_file: tests/scripts/06_relative_refs.sheet
---
--- CODE ---
// Setup a grid of values
A1 = 10
B1 = 20
A2 = 30
B2 = 40

// D1: Look left 1 column (@[-1, 0])
// D1 is at (3, 0) -> Looks at (2, 0) which is C1 (empty)
// Let's make it simpler:
// E1 (column 4) looks at A1 (column 0, so offset -4)
E1 = @[-4, 0]            // = 10

// Vertical Lookups
// A3 looks up 1 row (@[0, -1]) -> A2
A3 = @[0, -1]            // = 30

// Diagonal Lookups
// B3 looks up 1 row, left 1 col (@[-1, -1]) -> A2
B3 = @[-1, -1]           // = 30

// Out of bounds (negative coordinates)
// A1 looks up (@[0, -1]) -> Error/Empty
A_Error = @[0, -1]       // = empty

--- PARSE & EXECUTION ---
Parse Error on 'E1 = @[-4, 0]': found 'Minus' at 4..5 expected something else, or 'RBracket'
Parse Error on 'A3 = @[0, -1]': found 'Minus' at 6..7 expected something else
Parse Error on 'B3 = @[-1, -1]': found 'Minus' at 4..5 expected something else, or 'RBracket'
Parse Error on 'A_Error = @[0, -1]': found 'Minus' at 6..7 expected something else

[Tick 1]
A1: 10
B1: 20
A2: 30
B2: 40

[Tick 2]
A1: 10
B1: 20
A2: 30
B2: 40
