---
source: tests/integration.rs
assertion_line: 111
expression: output
input_file: tests/scripts/08_range_assignments_ambiguity.sheet
---
--- CODE ---
// Excel-style range assignments (view-based) + ambiguity examples
alloc slice [6, 6]

// Range set values (broadcast scalar)
A1:C1 = 5

// Range assign array (expands across the range)
A2:B3 = [1, 2, 3, 4]

// Ambiguity: array value vs expansion
// Store an array in a single cell
#[5,0] = [9, 8]
// Using the array cell in a range assignment broadcasts the array VALUE to each cell
A4:B4 = #[5,0]

// Relative refs in ranges
D1:D3 = 2
E1:E3 = @[-1, 0] * 10

tick
tick


--- EXECUTION ---
Allocated tensor 'slice'
Formula set for 3 cells
Formula set for 4 cells
Formula set for #[...]
Formula set for 2 cells
Formula set for 3 cells
Formula set for 3 cells
Tick processed.

[Tick 1]
A1: 5
B1: 5
C1: 5
D1: 2
E1: empty
F1: [9, 8]
A2: 1
B2: 2
D2: 2
E2: empty
A3: 3
B3: 4
D3: 2
E3: empty
A4: 0
B4: 0
Tick processed.

[Tick 2]
A1: 5
B1: 5
C1: 5
D1: 2
E1: 20
F1: [9, 8]
A2: 1
B2: 2
D2: 2
E2: 20
A3: 3
B3: 4
D3: 2
E3: 20
A4: [9, 8]
B4: [9, 8]
