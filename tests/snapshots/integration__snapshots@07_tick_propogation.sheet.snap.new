---
source: tests/integration.rs
assertion_line: 95
expression: output
input_file: tests/scripts/07_tick_propogation.sheet
---
--- CODE ---
// Chain: A1 -> B1 -> C1

// 1. Source
A1 = 10                  // = 10

// 2. First Link
// On Tick 1, B1 reads A1's initial state (empty/0). Result: 0.
// On Tick 2, B1 reads A1's Tick 1 state (10). Result: 10.
B1 = A1                  // = 10

// 3. Second Link
// On Tick 1, C1 reads B1 (empty). Result: 0.
// On Tick 2, C1 reads B1's Tick 1 state (0). Result: 0.
// It requires Tick 3 to become 10.
// So for our 2-tick test runner, this will still be 0.
C1 = B1                  // = 0

// 4. Cycle / Counter
// Tick 1: D1 (empty) + 1 = 1.
// Tick 2: D1 (1) + 1 = 2.
D1 = (D1 || 0) + 1       // = 2

--- PARSE & EXECUTION ---

[Tick 1]
A1: 10
B1: empty
C1: empty
D1: 1

[Tick 2]
A1: 10
B1: 10
C1: empty
D1: 2

--- CHECKS ---
✅ A1: Matches (10)
✅ B1: Matches (10)
❌ C1: FAILED (Expected '0', got 'empty')
✅ D1: Matches (2)
