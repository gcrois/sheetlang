---
source: tests/integration.rs
expression: output
input_file: tests/scripts/14_advanced_slices.sheet
---
--- SCRIPT ---
> // Advanced tensor slicing and mixed range collection
> alloc slices [5, 5]
Allocated tensor 'slices'
> // Seed cells used by later range collection
> #[0,0] = [1, 2, 3]
Formula set for 1 cell (#[0,0])
> #[0,2] = 1
Formula set for 1 cell (#[0,2])
> #[1,2] = [2, 3]
Formula set for 1 cell (#[1,2])
> #[0,3] = [4, 5]
Formula set for 1 cell (#[0,3])
> #[1,3] = [[6, 7], [8, 9]]
Formula set for 1 cell (#[1,3])
> #[3,0] = 42
Formula set for 1 cell (#[3,0])
> // all rows, one column
> #[:,1] = #[3,0]
Formula set for 5 cells
> // one-sided suffix row slice
> #[1:,2] = [9, 10]
Formula set for 4 cells
> // one-sided prefix row slice
> #[:3,3] = A3:B4
Formula set for 4 cells
> // 2D block slice assignment
> #[2:4,0:2] = [11, 12]
Formula set for 9 cells
> // collect a larger range with mixed scalar/array cells
> #[4,4] = A1:D4
Formula set for 1 cell (#[4,4])
> tick
Tick processed.

[Tick 1]
#[0,0]: [1, 2, 3] (formula: [1, 2, 3])
#[2,0]: [11, 12] (formula: [11, 12])
#[3,0]: [11, 12] (formula: [11, 12])
#[4,0]: [11, 12] (formula: [11, 12])
#[0,1]: 0 (formula: #[3,0])
#[1,1]: 0 (formula: #[3,0])
#[2,1]: [11, 12] (formula: [11, 12])
#[3,1]: [11, 12] (formula: [11, 12])
#[4,1]: [11, 12] (formula: [11, 12])
#[0,2]: 1 (formula: 1)
#[1,2]: [9, 10] (formula: [9, 10])
#[2,2]: [11, 12] (formula: [11, 12])
#[3,2]: [11, 12] (formula: [11, 12])
#[4,2]: [11, 12] (formula: [11, 12])
#[0,3]: [[empty, empty], [empty, empty]] (formula: A3:B4)
#[1,3]: [[empty, empty], [empty, empty]] (formula: A3:B4)
#[2,3]: [[empty, empty], [empty, empty]] (formula: A3:B4)
#[3,3]: [[empty, empty], [empty, empty]] (formula: A3:B4)
#[4,4]: [[empty, empty, empty, empty], [empty, empty, empty, empty], [empty, empty, empty, empty], [empty, empty, empty, empty]] (formula: A1:D4)
> tick
Tick processed.

[Tick 2]
#[0,0]: [1, 2, 3] (formula: [1, 2, 3])
#[2,0]: [11, 12] (formula: [11, 12])
#[3,0]: [11, 12] (formula: [11, 12])
#[4,0]: [11, 12] (formula: [11, 12])
#[0,1]: [11, 12] (formula: #[3,0])
#[1,1]: [11, 12] (formula: #[3,0])
#[2,1]: [11, 12] (formula: [11, 12])
#[3,1]: [11, 12] (formula: [11, 12])
#[4,1]: [11, 12] (formula: [11, 12])
#[0,2]: 1 (formula: 1)
#[1,2]: [9, 10] (formula: [9, 10])
#[2,2]: [11, 12] (formula: [11, 12])
#[3,2]: [11, 12] (formula: [11, 12])
#[4,2]: [11, 12] (formula: [11, 12])
#[0,3]: [[1, [9, 10]], [[[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]]]] (formula: A3:B4)
#[1,3]: [[1, [9, 10]], [[[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]]]] (formula: A3:B4)
#[2,3]: [[1, [9, 10]], [[[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]]]] (formula: A3:B4)
#[3,3]: [[1, [9, 10]], [[[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]]]] (formula: A3:B4)
#[4,4]: [[[1, 2, 3], empty, [11, 12], [11, 12]], [0, 0, [11, 12], [11, 12]], [1, [9, 10], [11, 12], [11, 12]], [[[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]], [[empty, empty], [empty, empty]]]] (formula: A1:D4)
